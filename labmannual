Program 8
A. First Fit    

#include<stdio.h>  
#include<conio.h> 
#define max 25 
void main()  
{  
int frag[max],b[max],f[max],i,j,nb,nf,temp;  
static int bf[max],ff[max]; 
clrscr();  
printf("\n\tMemory Management Scheme - First Fit");  
printf("\nEnter the number of blocks:");  
scanf("%d",&nb);  
printf("Enter the number of files:");  
scanf("%d",&nf);  
printf("\nEnter the size of the blocks:-\n");  
for(i=1;i<=nb;i++)  
{ 
printf("Block %d:",i); scanf("%d",&b[i]); 
} 
printf("Enter the size of the files :-\n"); 
for(i=1;i<=nf;i++)  
{  
printf("File %d:",i); 
scanf("%d",&f[i]);  
} 
for(i=1;i<=nf;i++) 
{  
for(j=1;j<=nb;j++) 
{ 
if(bf[j]!=1) 
{ 
temp=b[j]-f[i]; 
if(temp>=0)  
{  
ff[i]=j; 
break; 
} 
} 
}  
frag[i]=temp; 
bf[ff[i]]=1; 
} 
printf("\nFile_no:\tFile_size :\tBlock_no:\tBlock_size:\tFragement");  
for(i=1;i<=nf;i++) 
printf("\n%d\t\t%d\t\t%d\t\t%d\t\t%d",i,f[i],ff[i],b[ff[i]],frag[i]);  
getch(); 
} 


***OUTPUT***

        Memory Management Scheme - First Fit
Enter the number of blocks:3
Enter the number of files:2

Enter the size of the blocks:-
Block 1:5
Block 2:2
Block 3:7
Enter the size of the files :-
File 1:1
File 2:4

File_no:        File_size :     Block_no:       Block_size:     Fragement
1               1               1               5               4
2               4               3               7               3





B. Worst Fit      

#include<stdio.h>  
#include<conio.h>  
#define max 25  
void main()  
{  
int frag[max],b[max],f[max],i,j,nb,nf,temp,highest=0;  
static int bf[max],ff[max];  
clrscr(); 
printf("\n\tMemory Management Scheme - Worst Fit");  
printf("\nEnter the number of blocks:"); 
scanf("%d",&nb);  
printf("Enter the number of files:");  
scanf("%d",&nf);  
printf("\nEnter the size of the blocks:-\n");  
for(i=1;i<=nb;i++)  
{ 
printf("Block %d:",i); 
scanf("%d",&b[i]);  
}  
printf("Enter the size of the files :-\n");  
for(i=1;i<=nf;i++)  
{  
printf("File %d:",i); 
scanf("%d",&f[i]); 
}  
for(i=1;i<=nf;i++)  
{  
for(j=1;j<=nb;j++)  
{  
if(bf[j]!=1) //if bf[j] is not allocated  
{  
temp=b[j]-f[i];  
if(temp>=0) 
if(highest<temp)  
{ 
ff[i]=j;  
highest=temp; 
}  
} 
}  
frag[i]=highest; 
bf[ff[i]]=1;  
highest=0;  
}  
printf("\nFile_no:\tFile_size :\tBlock_no:\tBlock_size:\tFragement"); 
for(i=1;i<=nf;i++)  
printf("\n%d\t\t%d\t\t%d\t\t%d\t\t%d",i,f[i],ff[i],b[ff[i]],frag[i]);  
getch(); 
}      


**OUTPUT**
        Memory Management Scheme - Worst Fit
Enter the number of blocks:3
Enter the number of files:2

Enter the size of the blocks:-
Block 1:5
Block 2:2
Block 3:7
Enter the size of the files :-
File 1:1
File 2:4

File_no:        File_size :     Block_no:       Block_size:     Fragement
1               1               3               7               6
2               4               1               5               1





Program 9: 
A. FIFO   

#include <stdio.h>
#include <conio.h>
void main()
{
    int i, j, k, f, pf = 0, count = 0, rs[25], m[10], n;
    printf("\n Enter the length of reference string -- ");
    scanf("%d", &n);
    printf("\n Enter the reference string -- ");
    for (i = 0; i < n; i++)
        scanf("%d", &rs[i]);
    printf("\n Enter no. of frames -- ");
    scanf("%d", &f);
    for (i = 0; i < f; i++)
        m[i] = -1;
    printf("\n The Page Replacement Process is -- \n");
    for (i = 0; i < n; i++)
    {
        for (k = 0; k < f; k++)
        {
            if (m[k] == rs[i])
                break;
        }
        if (k == f)
        {
            m[count++] = rs[i];
            pf++;
        }
        for (j = 0; j < f; j++)
            printf("\t%d", m[j]);
        if (k == f)
            printf("\tPF No. %d", pf);
        printf("\n");
        if (count == f)
            count = 0;
    }
    printf("\n The number of Page Faults using FIFO are %d", pf);
    getch();
}


**OUTPUT**

 Enter the length of reference string -- 15

 Enter the reference string -- 7
0
1
2
0
3
0
4
2
3
0
3
1
2
0

 Enter no. of frames -- 3

 The Page Replacement Process is --
        7       -1      -1      PF No. 1
        7       0       -1      PF No. 2
        7       0       1       PF No. 3
        2       0       1       PF No. 4
        2       0       1
        2       3       1       PF No. 5
        2       3       0       PF No. 6
        4       3       0       PF No. 7
        4       2       0       PF No. 8
        4       2       3       PF No. 9
        0       2       3       PF No. 10
        0       2       3
        0       1       3       PF No. 11
        0       1       2       PF No. 12
        0       1       2





B. LRU       

#include <stdio.h>
#include <conio.h>
void main()
{
    int i, j, k, min, rs[25], m[10], count[10], flag[25], n, f, pf = 0, next = 1;
    printf("Enter the length of reference string -- ");
    scanf("%d", &n);
    printf("Enter the reference string -- ");
    for (i = 0; i < n; i++)
    {
        scanf("%d", &rs[i]);
        flag[i] = 0;
    }
    printf("Enter the number of frames -- ");
    scanf("%d", &f);
    for (i = 0; i < f; i++)
    {
        count[i] = 0;
        m[i] = -1;
    }
    printf("\nThe Page Replacement process is -- \n");
    for (i = 0; i < n; i++)
    {
        for (j = 0; j < f; j++)
        {
            if (m[j] == rs[i])
            {
                flag[i] = 1;
                count[j] = next;
                next++;
            }
        }
        if (flag[i] == 0)
        {
            if (i < f)
            {
                m[i] = rs[i];
                count[i] = next;
                next++;
            }
            else
            {
                min = 0;
                for (j = 1; j < f; j++)
                    if (count[min] > count[j])
                        min = j;
                m[min] = rs[i];
                count[min] = next;
                next++;
            }
            pf++;
        }
        for (j = 0; j < f; j++)
            printf("%d\t", m[j]);
        if (flag[i] == 0)
            printf("PF No. -- %d", pf);
        printf("\n");
    }
    printf("\nThe number of page faults using LRU are %d", pf);
    getch();
} 




        **OUTPUT**
Enter the length of reference string -- 15
Enter the reference string -- 7
0
1
2
0
3
0
4
2
3
0
3
1
2
0
Enter the number of frames -- 3

The Page Replacement process is --
7       -1      -1      PF No. -- 1
7       0       -1      PF No. -- 2
7       0       1       PF No. -- 3
2       0       1       PF No. -- 4
2       0       1
2       0       3       PF No. -- 5
2       0       3
4       0       3       PF No. -- 6
4       0       2       PF No. -- 7
4       3       2       PF No. -- 8
0       3       2       PF No. -- 9
0       3       2
0       3       1       PF No. -- 10
2       3       1       PF No. -- 11
2       0       1       PF No. -- 12

The number of page faults using LRU are 12




Program 10 
A. SSTF Scheduling     

#include<stdio.h> 
#include<conio.h> 
#include<math.h> 
int main() 
{ 
int queue[100],t[100],head,seek=0,n,i,j,temp; 
float avg; 
// clrscr(); 
printf("*** SSTF Disk Scheduling Algorithm ***\n"); 
printf("Enter the size of Queue\t"); 
scanf("%d",&n); 
printf("Enter the Queue\t"); 
for(i=0;i<n;i++) 
{ 
scanf("%d",&queue[i]); 
} 
printf("Enter the initial head position\t"); 
scanf("%d",&head); 
for(i=1;i<n;i++) 
t[i]=abs(head-queue[i]); 
for(i=0;i<n;i++) 
{ 
for(j=i+1;j<n;j++) 
{ 
if(t[i]>t[j]) 
{ 
temp=t[i]; 
t[i]=t[j]; 
t[j]=temp; 
temp=queue[i]; 
queue[i]=queue[j]; 
queue[j]=temp; 
} 
} 
} 
for(i=1;i<n-1;i++) 
{ 
seek=seek+abs(head-queue[i]); 
head=queue[i]; 
} 
printf("\nTotal Seek Time is%d\t",seek); 
avg=seek/(float)n; 
printf("\nAverage Seek Time is %f\t",avg); 
return 0; 
} 



OUTPUT: 
*** SSTF Disk Scheduling Algorithm *** 
Enter the size of Queue 5 
Enter the Queue 10 17 2 15 4 
Enter the initial head position 3 
Total Seek Time is14 
Average Seek Time is 2.800000 
RESULT: 
Thus the program was executed and verified successfully. 




B. SCAN Scheduling   

#include<stdio.h>  
main()  
{ 
int t[20], d[20], h, i, j, n, temp, k, atr[20], tot, p, sum=0;  
clrscr(); 
printf("enter the no of tracks to be traveresed");  
scanf("%d'",&n); 
printf("enter the position of head"); 
scanf("%d",&h);  
t[0]=0;t[1]=h;  
printf("enter the tracks");  
for(i=2;i<n+2;i++)  
scanf("%d",&t[i]); 
for(i=0;i<n+2;i++) 
{  
for(j=0;j<(n+2)-i-1;j++)  
{ 
if(t[j]>t[j+1]) 
{  
temp=t[j];  
t[j]=t[j+1];  
t[j+1]=temp; 
} 
} 
}  
for(i=0;i<n+2;i++) 
if(t[i]==h) 
j=i; 
k=j; 
p=0;  
while(t[j]!=0)  
{  
atr[p]=t[j]; 
j--;  
p++;  
}  
atr[p]=t[j]; 
for(p=k+1;p<n+2;p++,k++)  
atr[p]=t[k+1]; 
for(j=0;j<n+1;j++) 
{  
if(atr[j]>atr[j+1])  
d[j]=atr[j]-atr[j+1]; 
else  
d[j]=atr[j+1]-atr[j];  
sum+=d[j]; 
}  
printf("\nAverage header movements:%f",(float)sum/n);  
getch(); 
}  



INPUT 
Enter no.of tracks:9  
Enter track position:55 58 60 70 18 90 150 160 184  
OUTPUT: 
Tracks Traversed  
150               
160    
184    
90    
70    
60    
58    
55    
18    
Difference Between tracks 
50 
10 
24 
94 
20 
10 
2 
3 
37 





Program 11:
A. SEQUENTIAL FILE ALLOCATION 

#include<stdio.h> 
#include<conio.h> 
struct fileTable 
{  
char name[20];  
int sb, nob; 
}ft[30];  
void main()  
{  
int i, j, n;  
char s[20];  
clrscr();  
printf("Enter no of files :");  
scanf("%d",&n);  
for(i=0;i<n;i++) 
{  
printf("\nEnter file name %d :",i+1);  
scanf("%s",ft[i].name);  
printf("Enter starting block of file %d :",i+1);  
scanf("%d",&ft[i].sb);  
printf("Enter no of blocks in file %d :",i+1);  
scanf("%d",&ft[i].nob);  
}  
printf("\nEnter the file name to be searched -- ");  
scanf("%s",s);  
for(i=0;i<n;i++)  
if(strcmp(s, ft[i].name)==0) 
break;  
if(i==n)  
printf("\nFile Not Found");  
else  
{  
printf("\nFILE NAME START BLOCK NO OF BLOCKS BLOCKS OCCUPIED\n");  
printf("\n%s\t\t%d\t\t%d\t",ft[i].name,ft[i].sb,ft[i].nob);  
for(j=0;j<ft[i].nob;j++) 
printf("%d, ",ft[i].sb+j); 
}  
getch(); 
}  



INPUT: Enter no of files :3 
Enter file name 1 :A  
Enter starting block of file 1 :85  
Enter no of blocks in file 1 :6  
Enter file name 2 :B  
Enter starting block of file 2 :102 
Enter no of blocks in file 2 :4  
Enter file name 3 :C  
Enter starting block of file 3 :60  
Enter no of blocks in file 3 :4  
Enter the file name to be searched -- B  
OUTPUT:  
FILE NAME     START BLOCK    NO OF BLOCKS        BLOCKS OCCUPIED 
B                           
102                              
4                                  
102, 103, 104, 105 






B. INDEXED FILE ALLOCATION 

#include<stdio.h>  
#include<conio.h>  
struct fileTable  
{  
char name[20]; 
int nob, blocks[30]; 
}ft[30];  
void main()  
{  
int i, j, n;  
char s[20]; 
clrscr();  
printf("Enter no of files :"); 
scanf("%d",&n); 
for(i=0;i<n;i++) 
{  
printf("\nEnter file name %d :",i+1);  
scanf("%s",ft[i].name); 
printf("Enter no of blocks in file %d :",i+1);  
scanf("%d",&ft[i].nob);  
printf("Enter the blocks of the file :");  
for(j=0;j<ft[i].nob;j++)  
scanf("%d",&ft[i].blocks[j]); 
}  
printf("\nEnter the file name to be searched -- ");  
scanf("%s",s);  
for(i=0;i<n;i++)  
if(strcmp(s, ft[i].name)==0)  
break;  
if(i==n)  
printf("\nFile Not Found");  
else  
{  
printf("\nFILE NAME NO OF BLOCKS BLOCKS OCCUPIED");  
printf("\n %s\t\t%d\t",ft[i].name,ft[i].nob);  
for(j=0;j<ft[i].nob;j++) 
printf("%d, ",ft[i].blocks[j]);  
}  
getch(); 
} 



INPUT:  
Enter no of files : 2  
Enter file 1 : A  
Enter no of blocks in file 1 : 4  
Enter the blocks of the file 1 : 12 23 9 4  
Enter file 2 : G  
Enter no of blocks in file 2: 5  
Enter the blocks of the file 2: 88 77 66 55 44 
Enter the file to be searched: G  
OUTPUT:  
FILE NAME       NO OF BLOCKS                        
G                        
5                                                   
BLOCKS OCCUPIED    
88, 77, 66, 55, 44 13 
